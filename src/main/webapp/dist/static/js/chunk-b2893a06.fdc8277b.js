(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b2893a06"],{b8ec:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{visible:e.dialog,title:"生成器配置","append-to-body":"",width:"550px"},on:{"update:visible":function(t){e.dialog=t}}},[o("el-form",{ref:"form",attrs:{model:e.config,rules:e.rules,size:"small","label-width":"90px"}},[o("el-form-item",{attrs:{label:"作者名称",prop:"author"}},[o("el-input",{staticStyle:{width:"420px"},model:{value:e.config.author,callback:function(t){e.$set(e.config,"author",t)},expression:"config.author"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"包路径",prop:"pack"}},[o("el-input",{staticStyle:{width:"420px"},model:{value:e.config.pack,callback:function(t){e.$set(e.config,"pack",t)},expression:"config.pack"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"模块名称",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"420px"},model:{value:e.config.moduleName,callback:function(t){e.$set(e.config,"moduleName",t)},expression:"config.moduleName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"表前缀",prop:"path"}},[o("el-input",{staticStyle:{width:"420px"},model:{value:e.config.prefix,callback:function(t){e.$set(e.config,"prefix",t)},expression:"config.prefix"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"请求前缀",prop:"path"}},[o("el-input",{staticStyle:{width:"420px"},model:{value:e.config.apiPrefix,callback:function(t){e.$set(e.config,"apiPrefix",t)},expression:"config.apiPrefix"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"text"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.doSubmit}},[e._v("确认")])],1)],1)},i=[],r=o("e272"),a={data:function(){return{loading:!1,dialog:!1,config:{author:"",pack:"",moduleName:"",prefix:"",apiPrefix:""},rules:{author:[{required:!0,message:"作者不能为空",trigger:"blur"}],pack:[{required:!0,message:"包路径不能为空",trigger:"blur"}],moduleName:[{required:!0,message:"模块名称",trigger:"blur"}]}}},methods:{cancel:function(){this.resetForm()},doSubmit:function(){var e=this;this.$refs["form"].validate((function(t){if(!t)return!1;e.loading=!0,e.doUpdate()}))},doUpdate:function(){var e=this;Object(r["f"])(this.config).then((function(t){e.resetForm(),e.$notify({title:"更新成功",type:"success",duration:2500}),e.loading=!1})).catch((function(t){e.loading=!1,console.log(t)}))},resetForm:function(){this.dialog=!1,this.$refs["form"].resetFields(),this.config={author:"",pack:"",path:"",moduleName:"",cover:"false",apiPath:""}}}},l=a,c=o("0c7c"),u=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=u.exports},e272:function(e,t,o){"use strict";o.d(t,"e",(function(){return i})),o.d(t,"d",(function(){return r})),o.d(t,"c",(function(){return a})),o.d(t,"b",(function(){return l})),o.d(t,"f",(function(){return c})),o.d(t,"a",(function(){return u}));var n=o("b775");function i(e){return n["a"].get("support/common/generator/getTables",e)}function r(e){return Object(n["a"])({url:"back/generator/getTable/".concat(e),method:"get"})}function a(){return n["a"].get("support/common/generator/getGeneratorConfig")}function l(){return n["a"].get("support/common/dataSourceConfig/getAll")}function c(e){return n["a"].put("support/common/generator/updateGeneratorConfig",e)}function u(e,t){return Object(n["a"])({url:"back/generator/build?tableName="+t,data:e,method:"post",responseType:"blob"}).then((function(e){var o=new Blob([e],{type:"application/zip"}),n=t+".zip";if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(o,n);else{var i=window.URL.createObjectURL(o),r=document.createElement("a");r.style.display="none",r.href=i,r.setAttribute("download",n),document.body.appendChild(r),r.click()}}))}}}]);