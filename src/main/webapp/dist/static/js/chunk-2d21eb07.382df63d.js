(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21eb07"],{d742:function(s,r,e){"use strict";e.r(r);var t=function(){var s=this,r=s.$createElement,e=s._self._c||r;return e("el-form",{ref:"form",staticClass:"form",attrs:{model:s.p,rules:s.rules,"label-position":"right","label-width":"80px"}},[e("el-form-item",{attrs:{label:s.$t("table.user.oldPassword"),prop:"oldPassword"}},[e("el-input",{attrs:{type:"password"},model:{value:s.p.oldPassword,callback:function(r){s.$set(s.p,"oldPassword",r)},expression:"p.oldPassword"}})],1),s._v(" "),e("el-form-item",{attrs:{label:s.$t("table.user.newPassword"),prop:"newPassword"}},[e("el-input",{attrs:{type:"password"},model:{value:s.p.newPassword,callback:function(r){s.$set(s.p,"newPassword",r)},expression:"p.newPassword"}})],1),s._v(" "),e("el-form-item",{attrs:{label:s.$t("table.user.confirmPassword"),prop:"confirmPassword"}},[e("el-input",{attrs:{type:"password"},model:{value:s.p.confirmPassword,callback:function(r){s.$set(s.p,"confirmPassword",r)},expression:"p.confirmPassword"}})],1),s._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",plain:"",loading:s.buttonLoading},on:{click:s.submit}},[s._v(s._s(s.$t("common.edit")))])],1)],1)},o=[],a={data:function(){var s=this;return{buttonLoading:!1,p:{oldPassword:"",newPassword:"",confirmPassword:""},rules:{oldPassword:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{validator:function(r,e,t){s.$get("upms/user/checkPassword",{password:e}).then((function(r){r.data?t():t(s.$t("tips.oldPasswordIncorrect"))})).catch((function(){t()}))},trigger:"blur"}],newPassword:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:6,max:20,message:this.$t("rules.range6to20"),trigger:"blur"}],confirmPassword:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{validator:function(r,e,t){s.p.newPassword!==e?t(s.$t("tips.notEqual")):t()},trigger:"blur"}]}}},methods:{submit:function(){var s=this;this.$refs.form.validate((function(r){if(!r)return!1;s.buttonLoading=!0,s.$put("upms/user/password",{password:s.p.newPassword}).then((function(){s.buttonLoading=!1,s.$message({message:s.$t("tips.updateSuccess"),type:"success"}),s.$refs.form.clearValidate(),s.$refs.form.resetFields()}))}))}}},n=a,i=e("0c7c"),l=Object(i["a"])(n,t,o,!1,null,null,null);r["default"]=l.exports}}]);