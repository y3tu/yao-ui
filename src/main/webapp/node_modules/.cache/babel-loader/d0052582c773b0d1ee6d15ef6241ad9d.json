{"remainingRequest":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/model/support/generator/Table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/model/support/generator/Table.vue","mtime":1580305207345},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js","mtime":1578533613779},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1578533683571}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getTableColumn, build } from \"./Api\";\nexport default {\n  name: 'generatorColumn',\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n    remarks: {\n      type: String,\n      required: true\n    },\n    dataSourceConfigId: {\n      type: String,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      dialog: false,\n      loading: false,\n      genLoading: false,\n      data: [],\n      formLineNum: \"\",\n      isFullScreen: false\n    };\n  },\n  methods: {\n    to: function to() {\n      var _this2 = this;\n\n      this.dialog = true;\n      this.time = 130;\n      this.$nextTick(function () {\n        _this2.initData();\n      });\n    },\n    initData: function initData() {\n      var _this = this; //初始化数据\n\n\n      _this.data = [];\n      _this.loading = true;\n      var param = {\n        tableName: _this.name,\n        dataSourceConfigId: _this.dataSourceConfigId\n      };\n      getTableColumn(param).then(function (res) {\n        var _this$data;\n\n        var table = res.data;\n\n        (_this$data = _this.data).push.apply(_this$data, _toConsumableArray(table.columns));\n\n        _this.loading = false;\n      }).catch(function (err) {\n        _this.dialog = false;\n        _this.loading = false;\n      });\n    },\n    toggleFull: function toggleFull() {\n      this.isFullScreen = this.isFullScreen !== true;\n    },\n    cancel: function cancel() {\n      this.dialog = false;\n    },\n    handleDelete: function handleDelete(index) {\n      this.data.splice(index, 1);\n    },\n    doSubmit: function doSubmit() {\n      var _this3 = this;\n\n      this.genLoading = true;\n      var param = {\n        formLineNum: this.formLineNum,\n        tableName: this.name,\n        remarks: this.remarks,\n        dataSourceConfigId: this.dataSourceConfigId,\n        columns: this.data\n      };\n      build(param).then(function (res) {\n        _this3.dialog = false;\n        _this3.genLoading = false;\n      }).catch(function (err) {\n        _this3.genLoading = false;\n        console.log(err.response.data.message);\n      });\n    }\n  }\n};",{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA,SAAA,cAAA,EAAA,KAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KALA;AASA,IAAA,kBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AATA,GAFA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,UAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,YAAA,EAAA;AANA,KAAA;AAQA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,EADA,gBACA;AAAA;;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA;AACA,OAFA;AAGA,KAPA;AAQA,IAAA,QARA,sBAQA;AACA,UAAA,KAAA,GAAA,IAAA,CADA,CAEA;;;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,UAAA,KAAA,GAAA;AACA,QAAA,SAAA,EAAA,KAAA,CAAA,IADA;AAEA,QAAA,kBAAA,EAAA,KAAA,CAAA;AAFA,OAAA;AAIA,MAAA,cAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AAAA;;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,IAAA;;AACA,sBAAA,KAAA,CAAA,IAAA,EAAA,IAAA,sCAAA,KAAA,CAAA,OAAA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAJA,EAIA,KAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAPA;AAQA,KAzBA;AA0BA,IAAA,UA1BA,wBA0BA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,KAAA,IAAA;AACA,KA5BA;AA6BA,IAAA,MA7BA,oBA6BA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KA/BA;AAgCA,IAAA,YAhCA,wBAgCA,KAhCA,EAgCA;AACA,WAAA,IAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KAlCA;AAmCA,IAAA,QAnCA,sBAmCA;AAAA;;AACA,WAAA,UAAA,GAAA,IAAA;AAEA,UAAA,KAAA,GAAA;AACA,QAAA,WAAA,EAAA,KAAA,WADA;AAEA,QAAA,SAAA,EAAA,KAAA,IAFA;AAGA,QAAA,OAAA,EAAA,KAAA,OAHA;AAIA,QAAA,kBAAA,EAAA,KAAA,kBAJA;AAKA,QAAA,OAAA,EAAA,KAAA;AALA,OAAA;AAOA,MAAA,KAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAHA,EAGA,KAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,OANA;AAOA;AApDA;AA1BA,CAAA","sourcesContent":["<template>\n    <div>\n        <el-button type=\"primary\" size=\"mini\" @click=\"to\">简单表格生成</el-button>\n\n        <el-dialog :visible.sync=\"dialog\" :fullscreen=\"isFullScreen\" title=\"简单表格生成配置\" append-to-body width=\"70%\">\n\n            <div class=\"filter-container\">\n                <el-select v-model=\"formLineNum\" placeholder=\"表单排列\">\n                    <el-option label=\"一行一列\" value=\"1\"/>\n                    <el-option label=\"一行两列\" value=\"2\"/>\n                    <el-option label=\"一行三列\" value=\"3\"/>\n                    <el-option label=\"一行四列\" value=\"4\"/>\n                </el-select>\n            </div>\n\n            <el-table v-loading=\"loading\" :data=\"data\" size=\"small\" style=\"width: 100%;\">\n                <el-table-column label=\"序号\" width=\"80\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <div>{{ scope.$index + 1 }}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"name\" label=\"字段名称\" width=\"150\"/>\n                <el-table-column prop=\"typeName\" label=\"字段类型\"/>\n                <el-table-column prop=\"comment\" label=\"字段标题\" width=\"150\">\n                    <template slot-scope=\"scope\">\n                        <el-popover trigger=\"hover\" placement=\"left\">\n                            <p>{{data[scope.$index].comment}}</p>\n                            <div slot=\"reference\" class=\"name-wrapper\">\n                                <el-input v-model=\"data[scope.$index].comment\" class=\"edit-input\" style=\"width: 200px\"/>\n                            </div>\n                        </el-popover>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"enableShow\" label=\"表格中显示\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.enableShow === true ?'显示':'不显示'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].enableShow\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"enableEdit\" label=\"可添加编辑\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.enableEdit === true ?'可添加编辑':'不可添加编辑'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].enableEdit\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"表单类型\" width=\"140\">\n                    <template slot-scope=\"scope\">\n                        <el-select v-model=\"data[scope.$index].formType\" :disabled=\"!data[scope.$index].enableEdit\" class=\"edit-input\" clearable placeholder=\"请选择\">\n                            <el-option label=\"文本输入框\" value=\"1\"/>\n                            <el-option label=\"选择下拉框\" value=\"2\"/>\n                            <el-option label=\"日期选择器\" value=\"3\"/>\n                            <el-option label=\"时间选择器\" value=\"4\"/>\n                        </el-select>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"enableValidate\" label=\"表单非空验证\" width=\"95\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.enableValidate === true ?'验证':'不验证'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].enableValidate\" :disabled=\"!data[scope.$index].enableEdit\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"enableSearch\" label=\"可搜索\" width=\"95\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.enableSearch=== true ?'可搜索':'不可搜索'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].enableSearch\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"搜索框类型\" width=\"140\">\n                    <template slot-scope=\"scope\">\n                        <el-select v-model=\"data[scope.$index].searchType\" :disabled=\"!data[scope.$index].enableSearch\" class=\"edit-input\" clearable placeholder=\"请选择\">\n                            <el-option label=\"文本输入框\" value=\"1\"/>\n                            <el-option label=\"选择下拉框\" value=\"2\"/>\n                            <el-option label=\"日期选择器\" value=\"3\"/>\n                            <el-option label=\"时间选择器\" value=\"4\"/>\n                        </el-select>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"enableSort\" label=\"可排序\" width=\"95\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.enableSort=== true ?'可排序':'不可排序'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].enableSort\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" fixed=\"right\" label=\"操作\" width=\"100\">\n                    <template slot-scope=\"scope\">\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div slot=\"footer\">\n                <el-button icon=\"el-icon-full-screen\" @click=\"toggleFull\">全屏开/关</el-button>\n                <el-button @click=\"cancel\">取消</el-button>\n                <el-button :loading=\"genLoading\" type=\"primary\" @click=\"doSubmit\">生成</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n\n    import {getTableColumn, build} from './Api'\n\n    export default {\n        name: 'generatorColumn',\n        props: {\n            name: {\n                type: String,\n                required: true\n            },\n            remarks: {\n                type: String,\n                required: true\n            },\n            dataSourceConfigId: {\n                type: String,\n                required: true\n            }\n        },\n        data() {\n            return {\n                dialog: false,\n                loading: false,\n                genLoading: false,\n                data: [],\n                formLineNum: \"\",\n                isFullScreen: false,\n            }\n        },\n        methods: {\n            to() {\n                this.dialog = true;\n                this.time = 130;\n                this.$nextTick(() => {\n                    this.initData();\n                })\n            },\n            initData() {\n                const _this = this;\n                //初始化数据\n                _this.data = [];\n                _this.loading = true;\n                let param = {\n                    tableName: _this.name,\n                    dataSourceConfigId: _this.dataSourceConfigId\n                };\n                getTableColumn(param).then(res => {\n                    let table = res.data;\n                    _this.data.push(...table.columns);\n                    _this.loading = false;\n                }).catch(err => {\n                    _this.dialog = false;\n                    _this.loading = false;\n                })\n            },\n            toggleFull() {\n                this.isFullScreen = this.isFullScreen !== true;\n            },\n            cancel() {\n                this.dialog = false\n            },\n            handleDelete(index) {\n                this.data.splice(index, 1);\n            },\n            doSubmit() {\n                this.genLoading = true;\n\n                let param = {\n                    formLineNum: this.formLineNum,\n                    tableName: this.name,\n                    remarks: this.remarks,\n                    dataSourceConfigId: this.dataSourceConfigId,\n                    columns: this.data\n                };\n                build(param).then(res => {\n                    this.dialog = false;\n                    this.genLoading = false\n                }).catch(err => {\n                    this.genLoading = false;\n                    console.log(err.response.data.message)\n                })\n            }\n        }\n    }\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n    .edit-input {\n\n        .el-input__inner {\n            border: none;\n        }\n    }\n</style>"],"sourceRoot":"src/views/model/support/generator"}]}