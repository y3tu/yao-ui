{"remainingRequest":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/utils/permissionDirect.js","dependencies":[{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/utils/permissionDirect.js","mtime":1578540003865},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js","mtime":1578533613779}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n// 定义一些和权限有关的 Vue指令\n// 必须包含列出的所有权限，元素才显示\nexport var hasPermission = {\n  install: function install(Vue) {\n    Vue.directive('hasPermission', {\n      bind: function bind(el, binding, vnode) {\n        var permissions = vnode.context.$store.state.account.permissions;\n        var value = binding.value;\n        var flag = true;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = value[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var v = _step.value;\n\n            if (!permissions.includes(v)) {\n              flag = false;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        if (!flag) {\n          if (!el.parentNode) {\n            el.style.display = 'none';\n          } else {\n            el.parentNode.removeChild(el);\n          }\n        }\n      }\n    });\n  }\n}; // 当不包含列出的权限时，渲染该元素\n\nexport var hasNoPermission = {\n  install: function install(Vue) {\n    Vue.directive('hasNoPermission', {\n      bind: function bind(el, binding, vnode) {\n        var permissions = vnode.context.$store.state.account.permissions;\n        var value = binding.value;\n        var flag = true;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = value[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var v = _step2.value;\n\n            if (permissions.includes(v)) {\n              flag = false;\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        if (!flag) {\n          if (!el.parentNode) {\n            el.style.display = 'none';\n          } else {\n            el.parentNode.removeChild(el);\n          }\n        }\n      }\n    });\n  }\n}; // 只要包含列出的任意一个权限，元素就会显示\n\nexport var hasAnyPermission = {\n  install: function install(Vue) {\n    Vue.directive('hasAnyPermission', {\n      bind: function bind(el, binding, vnode) {\n        var permissions = vnode.context.$store.state.account.permissions;\n        var value = binding.value;\n        var flag = false;\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = value[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var v = _step3.value;\n\n            if (permissions.includes(v)) {\n              flag = true;\n            }\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n\n        if (!flag) {\n          if (!el.parentNode) {\n            el.style.display = 'none';\n          } else {\n            el.parentNode.removeChild(el);\n          }\n        }\n      }\n    });\n  }\n};",{"version":3,"sources":["/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/utils/permissionDirect.js"],"names":["hasPermission","install","Vue","directive","bind","el","binding","vnode","permissions","context","$store","state","account","value","flag","v","includes","parentNode","style","display","removeChild","hasNoPermission","hasAnyPermission"],"mappings":"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","sourcesContent":["// 定义一些和权限有关的 Vue指令\n\n// 必须包含列出的所有权限，元素才显示\nexport const hasPermission = {\n    install(Vue) {\n        Vue.directive('hasPermission', {\n            bind(el, binding, vnode) {\n                const permissions = vnode.context.$store.state.account.permissions;\n                const value = binding.value;\n                let flag = true;\n                for (const v of value) {\n                    if (!permissions.includes(v)) {\n                        flag = false\n                    }\n                }\n                if (!flag) {\n                    if (!el.parentNode) {\n                        el.style.display = 'none'\n                    } else {\n                        el.parentNode.removeChild(el)\n                    }\n                }\n            }\n        })\n    }\n};\n\n// 当不包含列出的权限时，渲染该元素\nexport const hasNoPermission = {\n    install(Vue) {\n        Vue.directive('hasNoPermission', {\n            bind(el, binding, vnode) {\n                const permissions = vnode.context.$store.state.account.permissions;\n                const value = binding.value;\n                let flag = true;\n                for (const v of value) {\n                    if (permissions.includes(v)) {\n                        flag = false\n                    }\n                }\n                if (!flag) {\n                    if (!el.parentNode) {\n                        el.style.display = 'none'\n                    } else {\n                        el.parentNode.removeChild(el)\n                    }\n                }\n            }\n        })\n    }\n};\n\n// 只要包含列出的任意一个权限，元素就会显示\nexport const hasAnyPermission = {\n    install(Vue) {\n        Vue.directive('hasAnyPermission', {\n            bind(el, binding, vnode) {\n                const permissions = vnode.context.$store.state.account.permissions;\n                const value = binding.value;\n                let flag = false;\n                for (const v of value) {\n                    if (permissions.includes(v)) {\n                        flag = true\n                    }\n                }\n                if (!flag) {\n                    if (!el.parentNode) {\n                        el.style.display = 'none'\n                    } else {\n                        el.parentNode.removeChild(el)\n                    }\n                }\n            }\n        })\n    }\n};\n"]}]}