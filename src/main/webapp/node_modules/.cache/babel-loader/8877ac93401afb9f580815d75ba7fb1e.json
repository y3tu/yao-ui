{"remainingRequest":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/utils/error-log.js","dependencies":[{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/utils/error-log.js","mtime":1578551797538},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js","mtime":1578533613779}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport Vue from 'vue';\nimport store from '@/store';\nimport { isString, isArray } from '@/utils/my-validate'; // you can set in settings.js\n// errorLog:'production' | ['production', 'development']\n\nvar needErrorLog = false;\n\nfunction checkNeed() {\n  var env = process.env.NODE_ENV;\n\n  if (isString(needErrorLog)) {\n    return env === needErrorLog;\n  }\n\n  if (isArray(needErrorLog)) {\n    return needErrorLog.includes(env);\n  }\n\n  return false;\n}\n\nif (checkNeed()) {\n  Vue.config.errorHandler = function (err, vm, info, a) {\n    // Don't ask me why I use Vue.nextTick, it just a hack.\n    // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n    Vue.nextTick(function () {\n      store.dispatch('errorLog/addErrorLog', {\n        err: err,\n        vm: vm,\n        info: info,\n        url: window.location.href\n      });\n      console.error(err, info);\n    });\n  };\n}",{"version":3,"sources":["/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/utils/error-log.js"],"names":["Vue","store","isString","isArray","needErrorLog","checkNeed","env","process","NODE_ENV","includes","config","errorHandler","err","vm","info","a","nextTick","dispatch","url","window","location","href","console","error"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,QAAR,EAAkBC,OAAlB,QAAgC,qBAAhC,C,CAEA;AACA;;AACA,IAAMC,YAAY,GAAG,KAArB;;AAEA,SAASC,SAAT,GAAqB;AACjB,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAxB;;AACA,MAAIN,QAAQ,CAACE,YAAD,CAAZ,EAA4B;AACxB,WAAOE,GAAG,KAAKF,YAAf;AACH;;AACD,MAAID,OAAO,CAACC,YAAD,CAAX,EAA2B;AACvB,WAAOA,YAAY,CAACK,QAAb,CAAsBH,GAAtB,CAAP;AACH;;AACD,SAAO,KAAP;AACH;;AAED,IAAID,SAAS,EAAb,EAAiB;AACbL,EAAAA,GAAG,CAACU,MAAJ,CAAWC,YAAX,GAA0B,UAAUC,GAAV,EAAeC,EAAf,EAAmBC,IAAnB,EAAyBC,CAAzB,EAA4B;AAClD;AACA;AACAf,IAAAA,GAAG,CAACgB,QAAJ,CAAa,YAAM;AACff,MAAAA,KAAK,CAACgB,QAAN,CAAe,sBAAf,EAAuC;AACnCL,QAAAA,GAAG,EAAHA,GADmC;AAEnCC,QAAAA,EAAE,EAAFA,EAFmC;AAGnCC,QAAAA,IAAI,EAAJA,IAHmC;AAInCI,QAAAA,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC;AAJc,OAAvC;AAMAC,MAAAA,OAAO,CAACC,KAAR,CAAcX,GAAd,EAAmBE,IAAnB;AACH,KARD;AASH,GAZD;AAaH","sourcesContent":["import Vue from 'vue'\nimport store from '@/store'\nimport {isString, isArray} from '@/utils/my-validate'\n\n// you can set in settings.js\n// errorLog:'production' | ['production', 'development']\nconst needErrorLog = false\n\nfunction checkNeed() {\n    const env = process.env.NODE_ENV\n    if (isString(needErrorLog)) {\n        return env === needErrorLog\n    }\n    if (isArray(needErrorLog)) {\n        return needErrorLog.includes(env)\n    }\n    return false\n}\n\nif (checkNeed()) {\n    Vue.config.errorHandler = function (err, vm, info, a) {\n        // Don't ask me why I use Vue.nextTick, it just a hack.\n        // detail see https://forum.vuejs.org/t/dispatch-in-vue-config-errorhandler-has-some-problem/23500\n        Vue.nextTick(() => {\n            store.dispatch('errorLog/addErrorLog', {\n                err,\n                vm,\n                info,\n                url: window.location.href\n            })\n            console.error(err, info)\n        })\n    }\n}\n"]}]}