{"remainingRequest":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/model/support/generator/Column.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/model/support/generator/Column.vue","mtime":1580282396917},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js","mtime":1578533613779},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1578533683571}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getTableColumn, build } from \"./Api\";\nexport default {\n  name: 'generatorColumn',\n  props: {\n    name: {\n      type: String,\n      required: true\n    },\n    dataSourceConfigId: {\n      type: String,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      dialog: false,\n      loading: false,\n      genLoading: false,\n      data: [],\n      form: {\n        lineNum: ''\n      },\n      isFullScreen: false\n    };\n  },\n  methods: {\n    to: function to() {\n      var _this2 = this;\n\n      this.dialog = true;\n      this.time = 130;\n      this.$nextTick(function () {\n        _this2.initData();\n      });\n    },\n    initData: function initData() {\n      var _this3 = this;\n\n      var _this = this; //初始化数据\n\n\n      _this.data = [];\n      var param = {\n        tableName: _this.name,\n        dataSourceConfigId: _this.dataSourceConfigId\n      };\n      getTableColumn(param).then(function (res) {\n        var _this$data;\n\n        var table = res.data;\n\n        (_this$data = _this.data).push.apply(_this$data, _toConsumableArray(table.columns));\n      }).catch(function (err) {\n        _this3.dialog = false;\n      });\n    },\n    toggleFull: function toggleFull() {\n      this.isFullScreen = this.isFullScreen == true ? false : true;\n    },\n    cancel: function cancel() {\n      this.dialog = false;\n    },\n    handleDelete: function handleDelete(index) {\n      this.data.splice(index, 1);\n    },\n    doSubmit: function doSubmit() {\n      var _this4 = this;\n\n      this.genLoading = true;\n      build(this.data, this.name).then(function (res) {\n        _this4.$notify({\n          title: '生成成功',\n          type: 'success',\n          duration: 2500\n        });\n\n        _this4.dialog = false;\n        _this4.genLoading = false;\n      }).catch(function (err) {\n        _this4.dialog = false;\n        _this4.genLoading = false;\n        console.log(err.response.data.message);\n      });\n    }\n  }\n};",{"version":3,"sources":["Column.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA,SAAA,cAAA,EAAA,KAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,kBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAFA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,UAAA,EAAA,KAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA,OALA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAUA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,EADA,gBACA;AAAA;;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA;AACA,OAFA;AAGA,KAPA;AAQA,IAAA,QARA,sBAQA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA,CADA,CAEA;;;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,GAAA;AACA,QAAA,SAAA,EAAA,KAAA,CAAA,IADA;AAEA,QAAA,kBAAA,EAAA,KAAA,CAAA;AAFA,OAAA;AAIA,MAAA,cAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AAAA;;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,IAAA;;AACA,sBAAA,KAAA,CAAA,IAAA,EAAA,IAAA,sCAAA,KAAA,CAAA,OAAA;AACA,OAHA,EAGA,KAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,OALA;AAMA,KAtBA;AAuBA,IAAA,UAvBA,wBAuBA;AACA,WAAA,YAAA,GAAA,KAAA,YAAA,IAAA,IAAA,GAAA,KAAA,GAAA,IAAA;AACA,KAzBA;AA0BA,IAAA,MA1BA,oBA0BA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KA5BA;AA6BA,IAAA,YA7BA,wBA6BA,KA7BA,EA6BA;AACA,WAAA,IAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KA/BA;AAgCA,IAAA,QAhCA,sBAgCA;AAAA;;AACA,WAAA,UAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,KAAA,IAAA,EAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA;AACA,UAAA,KAAA,EAAA,MADA;AAEA,UAAA,IAAA,EAAA,SAFA;AAGA,UAAA,QAAA,EAAA;AAHA,SAAA;;AAKA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,OARA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,OAZA;AAaA;AA/CA;AAxBA,CAAA","sourcesContent":["<template>\n    <div>\n        <el-button type=\"primary\" size=\"mini\" @click=\"to\">增删改查表格生成</el-button>\n\n        <el-dialog :visible.sync=\"dialog\" :fullscreen=\"isFullScreen\" title=\"代码生成配置\" append-to-body width=\"70%\">\n\n            <div class=\"filter-container\">\n                <el-select v-model=\"form.lineNum\" placeholder=\"表单显示\">\n                    <el-option label=\"一行一列\" value=\"1\"/>\n                    <el-option label=\"一行两列\" value=\"2\"/>\n                    <el-option label=\"一行三列\" value=\"3\"/>\n                    <el-option label=\"一行四列\" value=\"4\"/>\n                </el-select>\n            </div>\n\n            <el-table v-loading=\"loading\" :data=\"data\" size=\"small\" style=\"width: 100%;\">\n                <el-table-column label=\"序号\" width=\"80\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <div>{{ scope.$index + 1 }}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"name\" label=\"字段名称\" width=\"150\"/>\n                <el-table-column prop=\"typeName\" label=\"字段类型\"/>\n                <el-table-column prop=\"comment\" label=\"字段标题\" width=\"150\">\n                    <template slot-scope=\"scope\">\n                        <el-popover trigger=\"hover\" placement=\"left\">\n                            <p>{{data[scope.$index].comment}}</p>\n                            <div slot=\"reference\" class=\"name-wrapper\">\n                                <el-input v-model=\"data[scope.$index].comment\" class=\"edit-input\" style=\"width: 200px\"/>\n                            </div>\n                        </el-popover>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"columnShow\" label=\"表格中显示\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.show === true ?'显示':'不显示'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].show\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"eidt\" label=\"可添加编辑\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.eidt === true ?'可添加编辑':'不可添加编辑'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].eidt\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"表单类型\" width=\"140\">\n                    <template slot-scope=\"scope\">\n                        <el-select v-model=\"data[scope.$index].formType\" :disabled=\"!data[scope.$index].eidt\" class=\"edit-input\" clearable placeholder=\"请选择\">\n                            <el-option label=\"文本输入框\" value=\"1\"/>\n                            <el-option label=\"选择下拉框\" value=\"2\"/>\n                            <el-option label=\"日期选择器\" value=\"3\"/>\n                            <el-option label=\"时间选择器\" value=\"4\"/>\n                        </el-select>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"validate\" label=\"表单非空验证\" width=\"95\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.validate === true ?'验证':'不验证'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].validate\" :disabled=\"!data[scope.$index].eidt\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"validate\" label=\"可搜索\" width=\"95\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.search=== true ?'可搜索':'不可搜索'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].search\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"搜索框类型\" width=\"140\">\n                    <template slot-scope=\"scope\">\n                        <el-select v-model=\"data[scope.$index].searchType\" :disabled=\"!data[scope.$index].search\" class=\"edit-input\" clearable placeholder=\"请选择\">\n                            <el-option label=\"文本输入框\" value=\"1\"/>\n                            <el-option label=\"选择下拉框\" value=\"2\"/>\n                            <el-option label=\"日期选择器\" value=\"3\"/>\n                            <el-option label=\"时间选择器\" value=\"4\"/>\n                        </el-select>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" prop=\"validate\" label=\"可排序\" width=\"95\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip :content=\"scope.row.sort=== true ?'可排序':'不可排序'\" placement=\"top\">\n                            <el-switch v-model=\"data[scope.$index].sort\"/>\n                        </el-tooltip>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" fixed=\"right\" label=\"操作\" width=\"100\">\n                    <template slot-scope=\"scope\">\n                        <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div slot=\"footer\">\n                <el-button icon=\"el-icon-full-screen\" @click=\"toggleFull\">全屏开/关</el-button>\n                <el-button @click=\"cancel\">取消</el-button>\n                <el-button :loading=\"genLoading\" type=\"primary\" @click=\"doSubmit\">生成</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n\n    import {getTableColumn, build} from './Api'\n\n    export default {\n        name: 'generatorColumn',\n        props: {\n            name: {\n                type: String,\n                required: true\n            },\n            dataSourceConfigId: {\n                type: String,\n                required: true\n            }\n        },\n        data() {\n            return {\n                dialog: false,\n                loading: false,\n                genLoading: false,\n                data: [],\n                form: {\n                    lineNum: ''\n                },\n                isFullScreen: false,\n            }\n        },\n        methods: {\n            to() {\n                this.dialog = true;\n                this.time = 130;\n                this.$nextTick(() => {\n                    this.initData();\n                })\n            },\n            initData() {\n                const _this = this;\n                //初始化数据\n                _this.data = [];\n                let param = {\n                    tableName: _this.name,\n                    dataSourceConfigId: _this.dataSourceConfigId\n                };\n                getTableColumn(param).then(res => {\n                    let table = res.data;\n                    _this.data.push(...table.columns);\n                }).catch(err => {\n                    this.dialog = false;\n                })\n            },\n            toggleFull() {\n                this.isFullScreen = this.isFullScreen == true ? false : true;\n            },\n            cancel() {\n                this.dialog = false\n            },\n            handleDelete(index) {\n                this.data.splice(index, 1);\n            },\n            doSubmit() {\n                this.genLoading = true;\n                build(this.data, this.name).then(res => {\n                    this.$notify({\n                        title: '生成成功',\n                        type: 'success',\n                        duration: 2500\n                    });\n                    this.dialog = false;\n                    this.genLoading = false\n                }).catch(err => {\n                    this.dialog = false;\n                    this.genLoading = false;\n                    console.log(err.response.data.message)\n                })\n            }\n        }\n    }\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n    .edit-input {\n\n        .el-input__inner {\n            border: none;\n        }\n    }\n</style>"],"sourceRoot":"src/views/model/support/generator"}]}