{"remainingRequest":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/store/modules/tagsView.js","dependencies":[{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/store/modules/tagsView.js","mtime":1580564061433},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/babel-loader/lib/index.js","mtime":1578533613779}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _slicedToArray from \"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.some\";\nvar state = {\n  visitedViews: [],\n  cachedViews: []\n};\nvar mutations = {\n  ADD_VISITED_VIEW: function ADD_VISITED_VIEW(state, view) {\n    if (state.visitedViews.some(function (v) {\n      return v.path === view.path;\n    })) return;\n    state.visitedViews.push(Object.assign({}, view, {\n      title: view.meta.title || 'no-name'\n    }));\n  },\n  ADD_CACHED_VIEW: function ADD_CACHED_VIEW(state, view) {\n    if (state.cachedViews.includes(view.name)) return;\n\n    if (!view.meta.noCache) {\n      state.cachedViews.push(view.name);\n    }\n  },\n  DEL_VISITED_VIEW: function DEL_VISITED_VIEW(state, view) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = state.visitedViews.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var _step$value = _slicedToArray(_step.value, 2),\n            i = _step$value[0],\n            v = _step$value[1];\n\n        if (v.path === view.path) {\n          state.visitedViews.splice(i, 1);\n          break;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  },\n  DEL_CACHED_VIEW: function DEL_CACHED_VIEW(state, view) {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = state.cachedViews[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var i = _step2.value;\n\n        if (i === view.name) {\n          var index = state.cachedViews.indexOf(i);\n          state.cachedViews.splice(index, 1);\n          break;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  },\n  DEL_OTHERS_VISITED_VIEWS: function DEL_OTHERS_VISITED_VIEWS(state, view) {\n    state.visitedViews = state.visitedViews.filter(function (v) {\n      return v.meta.affix || v.path === view.path;\n    });\n  },\n  DEL_OTHERS_CACHED_VIEWS: function DEL_OTHERS_CACHED_VIEWS(state, view) {\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = state.cachedViews[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var i = _step3.value;\n\n        if (i === view.name) {\n          var index = state.cachedViews.indexOf(i);\n          state.cachedViews = state.cachedViews.slice(index, index + 1);\n          break;\n        }\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n  },\n  DEL_ALL_VISITED_VIEWS: function DEL_ALL_VISITED_VIEWS(state) {\n    // keep affix tags\n    var affixTags = state.visitedViews.filter(function (tag) {\n      return tag.meta.affix;\n    });\n    state.visitedViews = affixTags;\n  },\n  DEL_ALL_CACHED_VIEWS: function DEL_ALL_CACHED_VIEWS(state) {\n    state.cachedViews = [];\n  },\n  UPDATE_VISITED_VIEW: function UPDATE_VISITED_VIEW(state, view) {\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = state.visitedViews[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var v = _step4.value;\n\n        if (v.path === view.path) {\n          v = Object.assign(v, view);\n          break;\n        }\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n          _iterator4.return();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n  }\n};\nvar actions = {\n  addView: function addView(_ref, view) {\n    var dispatch = _ref.dispatch;\n    dispatch('addVisitedView', view);\n    dispatch('addCachedView', view);\n  },\n  addVisitedView: function addVisitedView(_ref2, view) {\n    var commit = _ref2.commit;\n    commit('ADD_VISITED_VIEW', view);\n  },\n  addCachedView: function addCachedView(_ref3, view) {\n    var commit = _ref3.commit;\n    commit('ADD_CACHED_VIEW', view);\n  },\n  delView: function delView(_ref4, view) {\n    var dispatch = _ref4.dispatch,\n        state = _ref4.state;\n    return new Promise(function (resolve) {\n      dispatch('delVisitedView', view);\n      dispatch('delCachedView', view);\n      resolve({\n        visitedViews: _toConsumableArray(state.visitedViews),\n        cachedViews: _toConsumableArray(state.cachedViews)\n      });\n    });\n  },\n  delVisitedView: function delVisitedView(_ref5, view) {\n    var commit = _ref5.commit,\n        state = _ref5.state;\n    return new Promise(function (resolve) {\n      commit('DEL_VISITED_VIEW', view);\n      resolve(_toConsumableArray(state.visitedViews));\n    });\n  },\n  delCachedView: function delCachedView(_ref6, view) {\n    var commit = _ref6.commit,\n        state = _ref6.state;\n    return new Promise(function (resolve) {\n      commit('DEL_CACHED_VIEW', view);\n      resolve(_toConsumableArray(state.cachedViews));\n    });\n  },\n  delOthersViews: function delOthersViews(_ref7, view) {\n    var dispatch = _ref7.dispatch,\n        state = _ref7.state;\n    return new Promise(function (resolve) {\n      dispatch('delOthersVisitedViews', view);\n      dispatch('delOthersCachedViews', view);\n      resolve({\n        visitedViews: _toConsumableArray(state.visitedViews),\n        cachedViews: _toConsumableArray(state.cachedViews)\n      });\n    });\n  },\n  delOthersVisitedViews: function delOthersVisitedViews(_ref8, view) {\n    var commit = _ref8.commit,\n        state = _ref8.state;\n    return new Promise(function (resolve) {\n      commit('DEL_OTHERS_VISITED_VIEWS', view);\n      resolve(_toConsumableArray(state.visitedViews));\n    });\n  },\n  delOthersCachedViews: function delOthersCachedViews(_ref9, view) {\n    var commit = _ref9.commit,\n        state = _ref9.state;\n    return new Promise(function (resolve) {\n      commit('DEL_OTHERS_CACHED_VIEWS', view);\n      resolve(_toConsumableArray(state.cachedViews));\n    });\n  },\n  delAllViews: function delAllViews(_ref10, view) {\n    var dispatch = _ref10.dispatch,\n        state = _ref10.state;\n    return new Promise(function (resolve) {\n      dispatch('delAllVisitedViews', view);\n      dispatch('delAllCachedViews', view);\n      resolve({\n        visitedViews: _toConsumableArray(state.visitedViews),\n        cachedViews: _toConsumableArray(state.cachedViews)\n      });\n    });\n  },\n  delAllVisitedViews: function delAllVisitedViews(_ref11) {\n    var commit = _ref11.commit,\n        state = _ref11.state;\n    return new Promise(function (resolve) {\n      commit('DEL_ALL_VISITED_VIEWS');\n      resolve(_toConsumableArray(state.visitedViews));\n    });\n  },\n  delAllCachedViews: function delAllCachedViews(_ref12) {\n    var commit = _ref12.commit,\n        state = _ref12.state;\n    return new Promise(function (resolve) {\n      commit('DEL_ALL_CACHED_VIEWS');\n      resolve(_toConsumableArray(state.cachedViews));\n    });\n  },\n  updateVisitedView: function updateVisitedView(_ref13, view) {\n    var commit = _ref13.commit;\n    commit('UPDATE_VISITED_VIEW', view);\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  actions: actions\n};",{"version":3,"sources":["/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/store/modules/tagsView.js"],"names":["state","visitedViews","cachedViews","mutations","ADD_VISITED_VIEW","view","some","v","path","push","Object","assign","title","meta","ADD_CACHED_VIEW","includes","name","noCache","DEL_VISITED_VIEW","entries","i","splice","DEL_CACHED_VIEW","index","indexOf","DEL_OTHERS_VISITED_VIEWS","filter","affix","DEL_OTHERS_CACHED_VIEWS","slice","DEL_ALL_VISITED_VIEWS","affixTags","tag","DEL_ALL_CACHED_VIEWS","UPDATE_VISITED_VIEW","actions","addView","dispatch","addVisitedView","commit","addCachedView","delView","Promise","resolve","delVisitedView","delCachedView","delOthersViews","delOthersVisitedViews","delOthersCachedViews","delAllViews","delAllVisitedViews","delAllCachedViews","updateVisitedView","namespaced"],"mappings":"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","sourcesContent":["const state = {\n    visitedViews: [],\n    cachedViews: []\n};\n\nconst mutations = {\n    ADD_VISITED_VIEW: (state, view) => {\n        if (state.visitedViews.some(v => v.path === view.path)) return;\n        state.visitedViews.push(\n            Object.assign({}, view, {\n                title: view.meta.title || 'no-name'\n            })\n        )\n    },\n    ADD_CACHED_VIEW: (state, view) => {\n        if (state.cachedViews.includes(view.name)) return;\n        if (!view.meta.noCache) {\n            state.cachedViews.push(view.name)\n        }\n    },\n\n    DEL_VISITED_VIEW: (state, view) => {\n        for (const [i, v] of state.visitedViews.entries()) {\n            if (v.path === view.path) {\n                state.visitedViews.splice(i, 1);\n                break\n            }\n        }\n    },\n    DEL_CACHED_VIEW: (state, view) => {\n        for (const i of state.cachedViews) {\n            if (i === view.name) {\n                const index = state.cachedViews.indexOf(i);\n                state.cachedViews.splice(index, 1);\n                break\n            }\n        }\n    },\n\n    DEL_OTHERS_VISITED_VIEWS: (state, view) => {\n        state.visitedViews = state.visitedViews.filter(v => {\n            return v.meta.affix || v.path === view.path\n        })\n    },\n    DEL_OTHERS_CACHED_VIEWS: (state, view) => {\n        for (const i of state.cachedViews) {\n            if (i === view.name) {\n                const index = state.cachedViews.indexOf(i);\n                state.cachedViews = state.cachedViews.slice(index, index + 1);\n                break\n            }\n        }\n    },\n\n    DEL_ALL_VISITED_VIEWS: state => {\n        // keep affix tags\n        const affixTags = state.visitedViews.filter(tag => tag.meta.affix);\n        state.visitedViews = affixTags\n    },\n    DEL_ALL_CACHED_VIEWS: state => {\n        state.cachedViews = []\n    },\n\n    UPDATE_VISITED_VIEW: (state, view) => {\n        for (let v of state.visitedViews) {\n            if (v.path === view.path) {\n                v = Object.assign(v, view);\n                break\n            }\n        }\n    }\n};\n\nconst actions = {\n    addView({dispatch}, view) {\n        dispatch('addVisitedView', view);\n        dispatch('addCachedView', view)\n    },\n    addVisitedView({commit}, view) {\n        commit('ADD_VISITED_VIEW', view)\n    },\n    addCachedView({commit}, view) {\n        commit('ADD_CACHED_VIEW', view)\n    },\n\n    delView({dispatch, state}, view) {\n        return new Promise(resolve => {\n            dispatch('delVisitedView', view);\n            dispatch('delCachedView', view);\n            resolve({\n                visitedViews: [...state.visitedViews],\n                cachedViews: [...state.cachedViews]\n            })\n        })\n    },\n    delVisitedView({commit, state}, view) {\n        return new Promise(resolve => {\n            commit('DEL_VISITED_VIEW', view);\n            resolve([...state.visitedViews])\n        })\n    },\n    delCachedView({commit, state}, view) {\n        return new Promise(resolve => {\n            commit('DEL_CACHED_VIEW', view);\n            resolve([...state.cachedViews])\n        })\n    },\n\n    delOthersViews({dispatch, state}, view) {\n        return new Promise(resolve => {\n            dispatch('delOthersVisitedViews', view);\n            dispatch('delOthersCachedViews', view);\n            resolve({\n                visitedViews: [...state.visitedViews],\n                cachedViews: [...state.cachedViews]\n            })\n        })\n    },\n    delOthersVisitedViews({commit, state}, view) {\n        return new Promise(resolve => {\n            commit('DEL_OTHERS_VISITED_VIEWS', view);\n            resolve([...state.visitedViews])\n        })\n    },\n    delOthersCachedViews({commit, state}, view) {\n        return new Promise(resolve => {\n            commit('DEL_OTHERS_CACHED_VIEWS', view);\n            resolve([...state.cachedViews])\n        })\n    },\n\n    delAllViews({dispatch, state}, view) {\n        return new Promise(resolve => {\n            dispatch('delAllVisitedViews', view);\n            dispatch('delAllCachedViews', view);\n            resolve({\n                visitedViews: [...state.visitedViews],\n                cachedViews: [...state.cachedViews]\n            })\n        })\n    },\n    delAllVisitedViews({commit, state}) {\n        return new Promise(resolve => {\n            commit('DEL_ALL_VISITED_VIEWS');\n            resolve([...state.visitedViews])\n        })\n    },\n    delAllCachedViews({commit, state}) {\n        return new Promise(resolve => {\n            commit('DEL_ALL_CACHED_VIEWS');\n            resolve([...state.cachedViews])\n        })\n    },\n\n    updateVisitedView({commit}, view) {\n        commit('UPDATE_VISITED_VIEW', view)\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions\n}\n"]}]}