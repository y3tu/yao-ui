{"remainingRequest":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/login/index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/login/index.vue","mtime":1579138418005},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/css-loader/index.js","mtime":1578533714393},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1578533683571},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/sass-loader/lib/loader.js","mtime":1578533721270},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1578533683571}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"login\";\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwgBA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n\n    <div class=\"login-container\">\n        <div class=\"login-info\">\n            <div class=\"title\">Yao</div>\n            <div class=\"sub-title\">{{ $t('common.system') }}</div>\n            <div class=\"desc\">1. {{ $t('common.desc.a') }}</div>\n            <div class=\"desc\">2. {{ $t('common.desc.b') }}</div>\n            <div class=\"desc\">3. {{ $t('common.desc.c') }}</div>\n            <div class=\"desc\">4. {{ $t('common.desc.d') }}</div>\n            <div class=\"desc\">5. {{ $t('common.desc.e') }}</div>\n            <div class=\"desc\">6. {{ $t('common.desc.f') }}</div>\n            <div class=\"desc\">7. {{ $t('common.desc.g') }}</div>\n            <div class=\"desc\">8. {{ $t('common.desc.h') }}</div>\n        </div>\n\n        <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"rules\" class=\"login-form\" autocomplete=\"off\" label-position=\"left\">\n            <div class=\"title-container\">\n                <h3 class=\"title\">\n                    {{ $t('login.title') }}\n                </h3>\n                <lang-select class=\"set-language\"/>\n            </div>\n\n            <span v-if=\"login.type === 'password'\">\n                <el-form-item prop=\"username\">\n                      <el-input\n                              ref=\"username\"\n                              v-model=\"loginForm.username\"\n                              :placeholder=\"$t('login.username')\"\n                              prefix-icon=\"el-icon-user\"\n                              name=\"username\"\n                              type=\"text\"\n                              autocomplete=\"off\"\n                              @keyup.enter.native=\"handleLogin\"/>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                      <el-input\n                              ref=\"password\"\n                              v-model=\"loginForm.password\"\n                              prefix-icon=\"el-icon-key\"\n                              type=\"password\"\n                              :placeholder=\"$t('login.password')\"\n                              name=\"password\"\n                              autocomplete=\"off\"\n                              :show-password=\"true\"\n                              @keyup.enter.native=\"handleLogin\"/>\n                </el-form-item>\n                <el-form-item prop=\"code\" class=\"code-input\">\n                      <el-input\n                              ref=\"code\"\n                              v-model=\"loginForm.code\"\n                              prefix-icon=\"el-icon-lock\"\n                              :placeholder=\"$t('login.code')\"\n                              name=\"code\"\n                              type=\"text\"\n                              autocomplete=\"off\"\n                              style=\"width: 70%\"\n                              @keyup.enter.native=\"handleLogin\"/>\n                </el-form-item>\n                <img :src=\"imageCode\" alt=\"codeImage\" class=\"code-image\" @click=\"getCodeImage\">\n                <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:14px;\" @click.native.prevent=\"handleLogin\">\n                  {{ $t('login.logIn') }}\n                </el-button>\n            </span>\n\n            <span v-if=\"login.type==='mobile'\">\n                <el-form-item prop=\"mobile\">\n                     <el-input\n                             ref=\"mobile\"\n                             v-model=\"loginForm.mobile\"\n                             :placeholder=\"$t('login.mobile')\"\n                             prefix-icon=\"el-icon-mobile-phone\"\n                             name=\"mobile\"\n                             type=\"text\"\n                             autocomplete=\"off\"\n                             @keyup.enter.native=\"handleMobileLogin\"/>\n                </el-form-item>\n                <el-form-item prop=\"mobileCode\">\n                    <el-row :gutter=\"8\">\n                        <el-col :span=\"9\">\n                             <el-input\n                                     ref=\"mobileCode\"\n                                     v-model=\"loginForm.mobileCode\"\n                                     prefix-icon=\"el-icon-lock\"\n                                     :placeholder=\"$t('login.mobileCode')\"\n                                     name=\"mobileCode\"\n                                     type=\"text\"\n                                     autocomplete=\"off\"\n                                     @keyup.enter.native=\"handleMobileLogin\"/>\n                        </el-col>\n                        <el-col :span=\"15\">\n                             <el-button ref=\"smsButton\" @click=\"sendMobileCode\" style=\"width:100%\" :disabled=\"sms.isDisabled\">{{sms.btnName}}</el-button>\n                        </el-col>\n                    </el-row>\n                </el-form-item>\n\n                <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:14px;\" @click.native.prevent=\"handleMobileLogin\">\n                  {{ $t('login.logIn') }}\n                </el-button>\n            </span>\n\n            <span v-if=\"login.type === 'social'\">\n                {{ $t('login.chooseToSignIn') }}\n                <div>\n                  <template v-for=\"(l, index) in logo\">\n                    <div :key=\"index\" class=\"logo-wrapper\">\n                      <img :src=\"resolveLogo(l.img)\" alt=\"\" :class=\"{ 'radius': l.radius }\" @click=\"socialLogin(l.name)\">\n                    </div>\n                  </template>\n                </div>\n            </span>\n\n            <span v-if=\"login.type === 'bind'\" style=\"margin-top: -1rem\">\n                 <el-tabs v-model=\"tabActiveName\" @tab-click=\"handleTabClick\">\n                    <el-tab-pane :label=\"$t('common.bindLogin')\" name=\"bindLogin\">\n                        <el-form-item prop=\"bindUsername\">\n                          <el-input\n                                  ref=\"bindUsername\"\n                                  v-model=\"loginForm.bindUsername\"\n                                  :placeholder=\"$t('login.username')\"\n                                  prefix-icon=\"el-icon-user\"\n                                  name=\"bindUsername\"\n                                  type=\"text\"\n                                  autocomplete=\"off\"/>\n                        </el-form-item>\n                        <el-form-item prop=\"bindPassword\">\n                          <el-input\n                                  ref=\"bindPassword\"\n                                  v-model=\"loginForm.bindPassword\"\n                                  :placeholder=\"$t('login.password')\"\n                                  prefix-icon=\"el-icon-key\"\n                                  name=\"bindPassword\"\n                                  type=\"password\"\n                                  :show-password=\"true\"\n                                  autocomplete=\"off\"/>\n                        </el-form-item>\n                        <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:14px;\" @click.native.prevent=\"bindLogin\">\n                          {{ $t('common.bindLogin') }}\n                        </el-button>\n                    </el-tab-pane>\n                      <el-tab-pane :label=\"$t('common.signLogin')\" name=\"signLogin\">\n                        <el-form-item prop=\"signUsername\">\n                          <el-input\n                                  ref=\"signUsername\"\n                                  v-model=\"loginForm.signUsername\"\n                                  :placeholder=\"$t('login.username')\"\n                                  prefix-icon=\"el-icon-user\"\n                                  name=\"signUsername\"\n                                  type=\"text\"\n                                  autocomplete=\"off\"/>\n                        </el-form-item>\n                        <el-form-item prop=\"signPassword\">\n                          <el-input\n                                  ref=\"signPassword\"\n                                  v-model=\"loginForm.signPassword\"\n                                  :placeholder=\"$t('login.password')\"\n                                  prefix-icon=\"el-icon-key\"\n                                  name=\"signPassword\"\n                                  type=\"password\"\n                                  :show-password=\"true\"\n                                  autocomplete=\"off\"/>\n                        </el-form-item>\n                        <el-button :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:14px;\" @click.native.prevent=\"signLogin\">\n                          {{ $t('common.signLogin') }}\n                        </el-button>\n                      </el-tab-pane>\n                 </el-tabs>\n            </span>\n\n            <el-dropdown class=\"login-type\" placement=\"top-end\">\n                <span class=\"el-dropdown-link\">\n                  <el-link type=\"primary\">{{ $t('login.otherLoginType') }}</el-link>\n                </span>\n                <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item :disabled=\"login.type === 'password'\" @click.native=\"login.type = 'password'\">{{ $t('login.type.password') }}\n                    </el-dropdown-item>\n                    <el-dropdown-item :disabled=\"login.type === 'mobile'\" @click.native=\"login.type = 'mobile'\">{{ $t('login.type.mobile') }}\n                    </el-dropdown-item>\n                    <el-dropdown-item :disabled=\"login.type === 'social'\" @click.native=\"login.type = 'social'\">{{ $t('login.type.social') }}\n                    </el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n\n        </el-form>\n\n        <span class=\"login-footer\">© 2020 <a target=\"_blank\" href=\"http://www.y3tu.com\">Y3tu</a> - Yao</span>\n\n    </div>\n\n</template>\n\n<script>\n    import LangSelect from '@/components/LangSelect'\n    import {socialLoginUrl} from '@/settings'\n    import {randomNum} from '@/utils'\n    import db from '@/utils/localstorage'\n    import axios from 'axios'\n\n    export default {\n        name: 'Login',\n        components: {LangSelect},\n        data() {\n            return {\n                codeUrl: `${process.env.VUE_APP_BASE_API}auth/captcha`,\n                socialLoginUrl: socialLoginUrl,\n                authUser: null,\n                loading: false,\n                imageCode: '',\n                tabActiveName: 'bindLogin',\n                showDialog: false,\n                redirect: undefined,\n                otherQuery: {},\n                randomId: randomNum(24, 16),\n                page: {\n                    width: window.screen.width * 0.5,\n                    height: window.screen.height * 0.5\n                },\n                login: {\n                    type: 'password'\n                },\n                logo: [\n                    {img: 'gitee.png', name: 'gitee', radius: true},\n                    {img: 'github.png', name: 'github', radius: true},\n                    {img: 'tencent_cloud.png', name: 'tencent_cloud', radius: true},\n                    {img: 'qq.png', name: 'qq', radius: false},\n                    {img: 'dingtalk.png', name: 'dingtalk', radius: true},\n                    {img: 'microsoft.png', name: 'microsoft', radius: false}\n                ],\n                sms: {\n                    btnName: this.$t('login.smsButton'),\n                    isDisabled: false,\n                    time: 60\n                },\n                loginForm: {\n                    username: 'y3tu',\n                    password: '1234qwer',\n                    mobile: '',\n                    mobileCode: '',\n                    bindUsername: '',\n                    bindPassword: '',\n                    signUsername: '',\n                    signPassword: ''\n                },\n                rules: {\n                    username: {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                    password: {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                    mobile: {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                    mobileCode: {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                    code: {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                    bindUsername: {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                    bindPassword: {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                    signUsername: [\n                        {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                        {min: 4, max: 10, message: this.$t('rules.range4to10'), trigger: 'blur'}\n                    ],\n                    signPassword: [\n                        {required: true, message: this.$t('rules.require'), trigger: 'blur'},\n                        {min: 6, max: 20, message: this.$t('rules.range6to20'), trigger: 'blur'}\n                    ]\n                }\n            }\n        },\n        mounted() {\n            db.clear();\n            this.getCodeImage();\n        },\n        methods: {\n            //用户密码登录\n            handleLogin() {\n                let username_c = false;\n                let password_c = false;\n                let code_c = false;\n                this.$refs.loginForm.validateField('username', e => {\n                    if (!e) {\n                        username_c = true\n                    }\n                });\n                this.$refs.loginForm.validateField('password', e => {\n                    if (!e) {\n                        password_c = true\n                    }\n                });\n                this.$refs.loginForm.validateField('code', e => {\n                    if (!e) {\n                        code_c = true\n                    }\n                });\n                if (username_c && password_c && code_c) {\n                    this.loading = true;\n                    const that = this;\n                    this.$login('auth/oauth/token', {\n                        ...that.loginForm,\n                        key: this.randomId\n                    }).then((res) => {\n                        this.saveLoginData(res);\n                        this.getUserDetailInfo();\n                        this.loginSuccessCallback()\n                    }).catch((error) => {\n                        console.error(error);\n                        that.loading = false;\n                        that.getCodeImage()\n                    })\n                }\n            },\n            //手机验证码登录\n            handleMobileLogin() {\n                let mobile_c = false;\n                let mobileCode_c = false;\n                this.$refs.loginForm.validateField('mobile', e => {\n                    if (!e) {\n                        mobile_c = true\n                    }\n                });\n                this.$refs.loginForm.validateField('mobileCode', e => {\n                    if (!e) {\n                        mobileCode_c = true\n                    }\n                });\n                if (mobile_c && mobileCode_c) {\n                    this.loading = true;\n                    const that = this;\n                    this.$login('auth/mobile/token', {\n                        ...that.loginForm,\n                        key: this.randomId\n                    }).then((res) => {\n                        this.saveLoginData(res);\n                        this.getUserDetailInfo();\n                        this.loginSuccessCallback()\n                    }).catch((error) => {\n                        console.error(error);\n                        that.loading = false;\n                        that.getCodeImage()\n                    })\n                }\n            },\n            //发送手机验证码\n            sendMobileCode() {\n                let that = this;\n                that.$refs.loginForm.validateField('mobile', (error) => {\n                    if (!error) {\n                        that.$get('auth/mobile/' + that.loginForm.mobile).then((res) => {\n                            if (res.status === 'SUCCESS') {\n                                this.$notify({\n                                    title: '验证码发送成功',\n                                    message: '验证码为:' + res.data,\n                                    type: 'success',\n                                    duration: 6000\n                                });\n                                doInterval()\n                            }\n                        });\n                    }\n                });\n\n                function doInterval() {\n                    that.sms.isDisabled = true;\n                    let interval = window.setInterval(function () {\n                        that.sms.btnName = '(' + that.sms.time + that.$t('login.smsTimeCount');\n                        --that.sms.time;\n                        if (that.sms.time < 0) {\n                            that.sms.btnName = that.$t('login.smsAgainButton');\n                            that.sms.time = 60;\n                            that.sms.isDisabled = false;\n                            window.clearInterval(interval)\n                        }\n                    }, 1000)\n                }\n            },\n            //获取图形验证码\n            getCodeImage() {\n                axios({\n                    method: 'GET',\n                    url: `${this.codeUrl}?key=${this.randomId}`,\n                    responseType: 'arraybuffer'\n                }).then(res => {\n                    return 'data:image/png;base64,' + btoa(\n                        new Uint8Array(res.data)\n                            .reduce((data, byte) => data + String.fromCharCode(byte), '')\n                    )\n                }).then((res) => {\n                    this.imageCode = res\n                }).catch((e) => {\n                    if (e.toString().indexOf('429') !== -1) {\n                        this.$message({\n                            message: this.$t('tips.tooManyRequest'),\n                            type: 'error'\n                        })\n                    } else {\n                        this.$message({\n                            message: this.$t('tips.getCodeImageFailed'),\n                            type: 'error'\n                        })\n                    }\n                })\n            },\n            //切换tab\n            handleTabClick(tab, event) {\n                this.tabActiveName = tab.name\n            },\n            //第三方登录\n            socialLogin(oauthType) {\n                const url = `${this.socialLoginUrl}/${oauthType}/login`;\n                window.open(url, 'newWindow', `resizable=yes, height=${this.page.height}, width=${this.page.width}, top=10%, left=10%, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no`);\n                window.addEventListener('message', this.resolveSocialLogin, false)\n            },\n            resolveSocialLogin(e){\n                const data = e.data;\n                const that = this;\n                if (data.message === 'not_bind') {\n                    that.login.type = 'bind';\n                    const authUser = data.data;\n                    that.authUser = authUser;\n                    that.$confirm(that.$t('common.current') + authUser.source + that.$t('common.socialAccount') + authUser.nickname + that.$t('common.socialTips'), that.$t('common.tips'), {\n                        confirmButtonText: that.$t('common.signLogin'),\n                        cancelButtonText: that.$t('common.bindLogin'),\n                        type: 'warning'\n                    }).then(() => {\n                        that.tabActiveName = 'signLogin'\n                    }).catch(() => {\n                        that.tabActiveName = 'bindLogin'\n                    })\n                } else if (data.message === 'social_login_success') {\n                    that.saveLoginData(data.data.token);\n                    that.getUserDetailInfo();\n                    that.loginSuccessCallback()\n                } else {\n                    // do nothing\n                }\n            },\n            bindLogin() {\n                let username_c = false;\n                let password_c = false;\n                this.$refs.loginForm.validateField('bindUsername', e => { if (!e) { username_c = true } });\n                this.$refs.loginForm.validateField('bindPassword', e => { if (!e) { password_c = true } });\n                if (username_c && password_c) {\n                    this.loading = true;\n                    const that = this;\n                    const params = {\n                        bindUsername: that.loginForm.bindUsername,\n                        bindPassword: that.loginForm.bindPassword,\n                        ...that.authUser\n                    };\n                    params.token = null;\n                    that.$post('auth/social/bind/login', params).then((r) => {\n                        const data = r.data;\n                        this.saveLoginData(data);\n                        this.getUserDetailInfo();\n                        this.loginSuccessCallback()\n                    }).catch((error) => {\n                        console.error(error);\n                        that.loading = false\n                    })\n                }\n            },\n            signLogin() {\n                let username_c = false;\n                let password_c = false;\n                this.$refs.loginForm.validateField('signUsername', e => { if (!e) { username_c = true } });\n                this.$refs.loginForm.validateField('signPassword', e => { if (!e) { password_c = true } });\n                if (username_c && password_c) {\n                    this.loading = true;\n                    const that = this;\n                    const params = {\n                        bindUsername: that.loginForm.signUsername,\n                        bindPassword: that.loginForm.signPassword,\n                        ...that.authUser\n                    };\n                    params.token = null;\n                    that.$post('auth/social/sign/login', params).then((r) => {\n                        const data = r.data;\n                        this.saveLoginData(data);\n                        this.getUserDetailInfo();\n                        this.loginSuccessCallback()\n                    }).catch((error) => {\n                        console.error(error);\n                        that.loading = false\n                    })\n                }\n            },\n            resolveLogo(logo) {\n                return require(`@/assets/logo/${logo}`)\n            },\n            saveLoginData(data) {\n                this.$store.commit('account/setAccessToken', data.access_token);\n                this.$store.commit('account/setRefreshToken', data.refresh_token);\n                const current = new Date();\n                const expireTime = current.setTime(current.getTime() + 1000 * data.expires_in);\n                this.$store.commit('account/setExpireTime', expireTime)\n            },\n            getUserDetailInfo() {\n                this.$get('auth/user').then((r) => {\n                    this.$store.commit('account/setUser', r.principal);\n                    this.$message({\n                        message: this.$t('tips.loginSuccess'),\n                        type: 'success'\n                    });\n                    this.loading = false;\n                    this.$router.push('/')\n                }).catch((error) => {\n                    this.$message({\n                        message: this.$t('tips.loginFail'),\n                        type: 'error'\n                    });\n                    console.error(error);\n                    this.loading = false\n                })\n            },\n            //登录成功更新登录时间\n            loginSuccessCallback() {\n                this.$get('upms/user/success').catch((e) => {\n                    console.log(e)\n                })\n            }\n\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n    @import \"login\";\n</style>\n<style lang=\"scss\" scoped>\n    @import \"login-scoped\";\n</style>\n\n"]}]}