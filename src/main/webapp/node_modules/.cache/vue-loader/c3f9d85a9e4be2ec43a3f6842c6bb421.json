{"remainingRequest":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/lockscreen/components/unlock.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/src/views/lockscreen/components/unlock.vue","mtime":1579772702360},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/css-loader/index.js","mtime":1578533714393},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1578533683571},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/sass-loader/lib/loader.js","mtime":1578533721270},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/cache-loader/dist/cjs.js","mtime":1578533679077},{"path":"/Users/yxy/work/y3tu/yao/yao-ui/src/main/webapp/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1578533683571}],"contextDependencies":[],"result":["\n@import \"../styles/unlock.scss\";\n",{"version":3,"sources":["unlock.vue"],"names":[],"mappings":";AACA","file":"unlock.vue","sourceRoot":"src/views/lockscreen/components","sourcesContent":["<style lang=\"scss\">\n    @import \"../styles/unlock.scss\";\n</style>\n\n<template>\n    <transition name=\"show-unlock\">\n        <div class=\"unlock-body-con\" v-if=\"showUnlock\" @keydown.enter=\"handleUnlock\">\n            <div @click=\"handleClickAvatar\" class=\"unlock-avatar-con\" :style=\"{marginLeft: avatarLeft}\">\n                <img class=\"unlock-avatar-img\" :src=\"avatar\">\n                <div class=\"unlock-avatar-cover\">\n                    <span><i class=\"el-icon-unlock\"></i></span>\n                    <p>解锁</p>\n                </div>\n            </div>\n            <div class=\"unlock-avatar-under-back\" :style=\"{marginLeft: avatarLeft}\"></div>\n            <div class=\"unlock-input-con\">\n                <div class=\"unlock-input-overflow-con\">\n                    <div class=\"unlock-overflow-body\" :style=\"{right: inputLeft}\">\n                        <input ref=\"inputEle\" v-model=\"password\" class=\"unlock-input\" type=\"password\" placeholder=\"密码同登录密码\"/>\n                        <button ref=\"unlockBtn\"\n                                @mousedown=\"unlockMousedown\"\n                                @mouseup=\"unlockMouseup\"\n                                @click=\"handleUnlock\"\n                                style=\"height: 48px\"\n                                class=\"unlock-btn\">\n                            <i class=\"el-icon-key\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"unlock-locking-tip-con\">已锁定</div>\n            <!--            <button class=\"unlock-locking-tip-con\" @click=\"logout\">退出登录</button>-->\n        </div>\n    </transition>\n</template>\n\n<script>\n    import db from '@/utils/localstorage'\n\n    export default {\n        name: \"Unlock\",\n        data() {\n            return {\n                avatarLeft: \"0px\",\n                inputLeft: \"400px\",\n                password: \"\",\n                check: null\n            };\n        },\n        props: {\n            showUnlock: {\n                type: Boolean,\n                default: false\n            }\n        },\n        computed: {\n            avatar() {\n                let avatar = this.$store.state.account.user.avatar;\n                return require(`@/assets/avatar/${avatar}`)\n            }\n        },\n        methods: {\n            unlock() {\n                this.avatarLeft = \"0px\";\n                this.inputLeft = \"400px\";\n                this.password = \"\";\n                db.save(\"locking\", \"0\");\n                this.$emit(\"on-unlock\");\n            },\n            logout() {\n                db.clear();\n                location.reload();\n            },\n            handleClickAvatar() {\n                this.avatarLeft = \"-180px\";\n                this.inputLeft = \"0px\";\n                this.$refs.inputEle.focus();\n            },\n            handleUnlock() {\n                if (this.password == \"\") {\n                    this.$message({\n                        message: '请输入密码！',\n                        type: 'error'\n                    });\n                    return;\n                }\n                // 将用户输入的密码this.password与数据库用户密码对比\n                let flag = false;\n                this.$get('upms/user/checkPassword', {password: this.password}).then(\n                    res => {\n                        if (res.data) {\n                            this.unlock();\n                        } else {\n                            this.$message({\n                                message: '密码错误！',\n                                type: 'error'\n                            });\n                        }\n                    }\n                );\n            },\n            unlockMousedown() {\n                this.$refs.unlockBtn.className = \"unlock-btn click-unlock-btn\";\n            },\n            unlockMouseup() {\n                this.$refs.unlockBtn.className = \"unlock-btn\";\n            }\n        }\n    };\n</script>\n"]}]}