(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf4d2"],{"62aa":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"role-span"},[t._v("SQL字典")]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"6px 9px"},attrs:{loading:t.saveLoading,icon:"el-icon-check",size:"mini",type:"primary"},on:{click:t.doSave}},[t._v("保存\n        ")])],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"数据源",prop:"dsId"}},[a("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"请选择"},model:{value:t.form.dsId,callback:function(e){t.$set(t.form,"dsId",e)},expression:"form.dsId"}},t._l(t.dict.DATA_SOURCE,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"SQL",prop:"sqlText"}},[a("code-edit",{attrs:{value:t.form.sqlText,height:"150px",theme:"rubyblue","code-type":"text/x-mysql"},on:{change:t.sqlTextChange}})],1),t._v(" "),a("el-form-item",{attrs:{label:"条件字段",prop:"whereColumn"}},[a("el-input",{staticStyle:{width:"40%"},model:{value:t.form.whereColumn,callback:function(e){t.$set(t.form,"whereColumn",e)},expression:"form.whereColumn"}}),t._v(" "),a("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("多个字段用逗号分隔")])],1),t._v(" "),a("el-form-item",{attrs:{label:"最大行数",prop:"maxRows"}},[a("el-input-number",{attrs:{min:1,max:500},model:{value:t.form.maxRows,callback:function(e){t.$set(t.form,"maxRows",e)},expression:"form.maxRows"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{staticStyle:{width:"40%"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"请选择",clearable:""},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{value:0,label:"正常"}}),t._v(" "),a("el-option",{attrs:{value:1,label:"禁用"}})],1)],1)],1)],1)},o=[],l=a("720f"),i=a("03e7"),r={dicts:["DATA_SOURCE"],components:{CodeEdit:l["a"]},data:function(){return{saveLoading:!1,dictId:"",form:{dsId:"",sqlText:"",whereColumn:"",maxRows:99,description:"",status:0},rules:{dsId:[{required:!0,message:"数据源不能为空",trigger:"blur"}]}}},methods:{created:function(){var t=this;this.$nextTick(function(){t.init()})},init:function(){var t=this;this.$isNotEmpty(this.dictId)&&Object(i["f"])(this.dictId).then(function(e){t.$isNotEmpty(e.data)?(delete e.data.createTime,delete e.data.updateTime,t.form=e.data):t.form={dsId:"",sqlText:"",whereColumn:"",maxRows:99,description:"",status:0}})},doSave:function(){var t=this;this.$refs["form"].validate(function(e){e&&(t.saveLoading=!0,t.form.dictId=t.dictId,Object(i["g"])(t.form).then(function(e){t.saveLoading=!1,t.$notify({title:"保存成功",type:"success",duration:2500})}).catch(function(e){t.saveLoading=!1}))})},sqlTextChange:function(t){this.form.sqlText=t}}},n=r,c=a("0c7c"),d=Object(c["a"])(n,s,o,!1,null,null,null);e["default"]=d.exports}}]);